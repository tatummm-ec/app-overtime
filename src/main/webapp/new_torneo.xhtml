<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/base.xhtml">

    <ui:define name="title-view">
        Nuevo Torneo - OverTime
    </ui:define>

    <ui:define name="content">
        <div style="display: flex; justify-content: center; align-items: center; min-height: 100vh; background:#f5f5f5;">
            <h:form id="formCrearTorneo"
                    style="width: 100%; max-width: 500px; background-color: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 0 15px rgba(0,0,0,0.1);">

                <h2 style="text-align: center; margin-bottom: 2rem; color:#333;">Crear Nuevo Torneo</h2>

                <p:messages id="messages" showDetail="true" closable="true" style="margin-bottom:1rem;">
                    <p:autoUpdate/>
                </p:messages>

                <p:inputText
                        id="nombreTorneo"
                        value="#{torneoBean.torneo.nombre}"
                        placeholder="Nombre del Torneo"
                        style="width: 100%; margin-bottom: 1.5rem;"
                        required="true"
                        requiredMessage="El nombre del torneo es obligatorio"/>

                <div style="display: flex; flex-direction: column; gap: 1rem; margin-bottom: 2rem;">
                    <p:calendar
                            id="fechaInicio"
                            value="#{torneoBean.torneo.fechaInicio}"
                            pattern="dd/MM/yyyy"
                            placeholder="Fecha de Inicio"
                            required="true"
                            requiredMessage="La fecha de inicio es obligatoria"/>

                    <p:calendar
                            id="fechaFin"
                            value="#{torneoBean.torneo.fechaFin}"
                            pattern="dd/MM/yyyy"
                            placeholder="Fecha de Fin"
                            required="true"
                            requiredMessage="La fecha de fin es obligatoria"/>
                </div>

                <p:commandButton
                        id="btnCrearTorneo"
                        value="Crear Torneo "
                        process="@this, nombreTorneo, fechaInicio, fechaFin"
                        action="#{torneoBean.crearTorneo()}"
                        icon="pi pi-check"
                        style="width: 100%; background-color: #ff6600; color: white; font-weight: bold;"
                        rendered="#{torneoBean.editarAction eq 'N'}"/>
                <p:commandButton
                        rendered="#{torneoBean.editarAction eq 'S'}"
                        id="btnEditarTorneo"
                        value="Editar Torneo"
                        process="@this, nombreTorneo, fechaInicio, fechaFin"
                        action="#{torneoBean.editarTorneo()}"
                        icon="pi pi-pencil"
                        style="width: 100%; background-color: #FF4D00; color: white; font-weight: bold;"/>

            </h:form>
        </div>
    </ui:define>

</ui:composition>
</html>
