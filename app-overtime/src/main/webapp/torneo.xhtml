<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/base.xhtml">
    <ui:define name="title-view">Detalles del Torneo - OverTime</ui:define>

    <ui:define name="content">
        <h:form>
            <h2 style="text-align:center; color:#003366; font-weight:bold; margin-bottom:2rem;">
                #{torneoBean.torneoSeleccionado.nombre} - Próximos Partidos
            </h2>

            <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom:2rem;">
                <p:commandButton value="Ver Estadísticas"
                                 icon="pi pi-chart-line"
                                 action="estadisticas.xhtml?faces-redirect=true"
                                 style="background-color:#007bff; color:white; font-weight:bold;"/>

                <p:commandButton value="Registrar Partido"
                                 icon="pi pi-plus-circle"
                                 action="nuevo_partido.xhtml?faces-redirect=true"
                                 style="background-color:#28a745; color:white; font-weight:bold;"/>
            </div>

            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate/>
            </p:messages>

            <p:dataTable value="#{torneoBean.proximosPartidos}" var="partido"
                         stripedRows="true" responsiveLayout="scroll"

                         emptyMessage="No hay partidos programados aún."
                         styleClass="ui-datatable-hoverable"
                         style="margin:auto; max-width:900px;">

                <f:facet name="header">
                    <div style="text-align:center; font-weight:bold; font-size:1.2rem; color:#333;">
                        Partidos Programados
                    </div>
                </f:facet>

                <p:column headerText="Fecha" style="text-align:center;">
                    <h:outputText value="#{partido.fecha}">
                        <f:convertDateTime pattern="dd/MM/yyyy HH:mm"/>
                    </h:outputText>
                </p:column>

                <p:column headerText="Equipo Local" style="text-align:center;">
                    #{partido.equipoLocal}
                </p:column>

                <p:column headerText="Equipo Visitante" style="text-align:center;">
                    #{partido.equipoVisitante}
                </p:column>

                <p:column headerText="Ubicación" style="text-align:center;">
                    #{partido.ubicacion}
                </p:column>
            </p:dataTable>

            <div style="text-align:center; margin-top:2rem;">
                <h:outputLink value="tournament_management.xhtml"
                              style="color:#003366; font-weight:bold;">
                    Volver a la Gestión de Torneos
                </h:outputLink>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
</html>
